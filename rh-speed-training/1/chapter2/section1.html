<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Exercise: Can you contain your excitement to get hands-on? :: Red Hat Speed Training Hands-On Exercises</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="section2.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Red Hat Speed Training Hands-On Exercises</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/changeme/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="rh-speed-training" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Red Hat Speed Training Hands-On Exercises</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">What the heck is Git?</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section1.html">Exercise: Let&#8217;s Git our hands dirty!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Can&#8217;t contain their value!</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section1.html">Exercise: Can you contain your excitement to get hands-on?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section2.html">Challenge Exercise: Can&#8217;t contain your enthusiasm!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter3/index.html">Ansible Everywhere</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section1.html">Exercise: Automate this!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Red Hat Speed Training Hands-On Exercises</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Red Hat Speed Training Hands-On Exercises</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Red Hat Speed Training Hands-On Exercises</a></li>
    <li><a href="index.html">Can&#8217;t contain their value!</a></li>
    <li><a href="section1.html">Exercise: Can you contain your excitement to get hands-on?</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Exercise: Can you contain your excitement to get hands-on?</h1>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All credit for the steps in this exercise and the associated lab environment you are using go to the Red Hat Training development team! Find more fun exercises like this on containers in both our Red Hat System Administration II (RH134) and OpenShift Development I: Introduction to Containers with Podman (DO188) courses! Stop by our Red Hat Learning Subscription booth to learn more!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_goals"><a class="anchor" href="#_goals"></a>Goals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should be able to run containers in Podman by using the <code>podman run</code> command.
Resist the urge to use copy and paste! We learn a lot more when we type it out the long way.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As the <code>student</code> user on the <code>workstation</code> machine, use the <code>lab</code> command to prepare your system for this exercise.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>lab start containers-creating</strong></pre>
</div>
</div>
</div>
</div>
<div class="sect1 Checklist">
<h2 id="_instructions"><a class="anchor" href="#_instructions"></a>Instructions</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>registry.lab.example.com/ubi9/ubi</code> image to create a new container that prints the <code>Hello Red&#160;Hat</code> text.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Log in to the classroom registry. Use <code>admin</code> as the username, and <code>redhat321</code> as the password.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman login registry.lab.example.com --tls-verify=false</strong>
Username: <strong>admin</strong>
Password: <strong>redhat321</strong>
Login Succeeded!</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Use the <code>podman pull</code> command to fetch the image from the registry.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman pull registry.lab.example.com/ubi9/ubi \
 --tls-verify=false</strong>
Trying to pull registry.lab.example.com/ubi9/ubi:latest...
...output omitted...
Getting image source signatures
Copying blob 1153e061da4e done
Copying config 8d2a8803cf done
Writing manifest to image destination
8d2a8803cfca17a81eb9412e1f33ae1c6fe3797553e9b819899dc03f1657cf12</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Use the <code>podman images</code> command to verify that the image is available locally.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman images</strong>
REPOSITORY                         TAG         IMAGE ID      CREATED       SIZE
registry.lab.example.com/ubi9/ubi  latest      8d2a8803cfca  3 months ago  219 MB</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>In a command line terminal, use <code>podman run</code> to create a new container. Provide an <code>echo</code> command to be executed inside the container.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman run --rm registry.lab.example.com/ubi9/ubi \
 echo 'Hello General Motors'</strong>
Hello General Motors</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify that the container is not running after the execution finishes.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman ps</strong>
CONTAINER ID  IMAGE       COMMAND     CREATED     STATUS      PORTS       NAMES</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Explore setting and printing environment variables by using the <code>registry.lab.example.com/ubi9/ubi</code> container image.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the <code>-e</code> option in the <code>podman run</code> command to set environment variables. Use the <code>printenv</code> command that is packaged in the container image to print the values of the environment variables.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman run --rm -e GREET=Hello -e NAME='General Motors' \
 registry.lab.example.com/ubi9/ubi printenv GREET NAME</strong>
Hello
General Motors</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify that the container is not running after the execution finishes.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman ps</strong>
CONTAINER ID  IMAGE       COMMAND     CREATED     STATUS      PORTS       NAMES</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Use the <code>registry.lab.example.com/rhel9/httpd-24</code> image to run a new container that creates an Apache HTTP server.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the <code>podman pull</code> command to fetch the image from the registry.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman pull registry.lab.example.com/rhel9/httpd-24 \
 --tls-verify=false</strong>
Trying to pull registry.lab.example.com/rhel9/httpd-24:latest...
...output omitted...
Copying blob 358ca3c2eaff done
Copying blob e584cd196457 done
Copying config a42923e055 done
Writing manifest to image destination
a42923e05589d2d10c25e87736bc3b9537c38c2a6a87f37e9a71e288b01738a6</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Use the <code>podman run</code> command to start the <code>httpd</code> container. Use the <code>-p</code> option in the <code>podman run</code> command to redirect traffic from port <code>8080</code> on your machine to port <code>8080</code> inside the container.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman run --name=httpd -p 8080:8080 \
 registry.lab.example.com/rhel9/httpd-24</strong>
=&gt; sourcing 10-set-mpm.sh ...
=&gt; sourcing 20-copy-config.sh ...
=&gt; sourcing 40-ssl-certs.sh ...
---&gt; Generating SSL key pair for httpd...
...output omitted...
[Thu Jun 06 00:02:06.591391 2024] [mpm_event:notice] [pid 1:tid 1] AH00489: Apache/2.4.57 (Red Hat Enterprise Linux) OpenSSL/3.0.7 configured -- resuming normal operations
[Thu Jun 06 00:02:06.591430 2024] [core:notice] [pid 1:tid 1] AH00094: Command line: 'httpd -D FOREGROUND'</pre>
</div>
</div>
<div class="paragraph">
<p>The container keeps running and the logs are displayed in your terminal.</p>
</div>
</div>
</div>
</li>
<li>
<p>In a web browser, navigate to <code>http://localhost:8080</code>. Verify that the HTTP server is running at the 8080 port.</p>
</li>
<li>
<p>Go back to your command-line terminal. Press <code>Ctrl+C</code> to stop the container.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre><em>...output omitted...</em>
<code>^C</code>
[Thu Jun 06 00:04:13.467695 2024] [mpm_event:notice] [pid 1:tid 1] AH00491: caught SIGTERM, shutting down</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create the container again by adding the <code>-d</code> option. The container runs in the background.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman run --name=httpd -d \
 -p 8080:8080 registry.lab.example.com/rhel9/httpd-24</strong>
08ac7ce948feb65f76f82305d556843a898b60200f5b4f37d1ecb8ea381199ff</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify that the container is running in the background.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$ <strong>podman ps</strong>
CONTAINER ID  IMAGE                                           COMMAND               CREATED             STATUS             PORTS                   NAMES
08ac7ce948fe  registry.lab.example.com/rhel9/httpd-24:latest  /usr/bin/run-http...  21 seconds ago  Up 22 seconds  0.0.0.0:8080-&gt;8080/tcp  httpd</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Use Podman Desktop to list images and containers.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open Podman Desktop.
Click btn:[Activities] at the upper-left corner of the top bar, and then click the btn:[Podman Desktop] icon.</p>
<div class="imageblock text-center unresolved">
<div class="content">
<img src="/assets/podman-desktop-ge-podman-desktop.png" alt="podman desktop ge podman desktop" width="70%">
</div>
</div>
</li>
<li>
<p>Click btn:[Containers] in the Podman Desktop navigation panel.
The list includes the containers that you created in the exercise.
Verify that the Apache HTTP container is running.</p>
<div class="imageblock text-center unresolved">
<div class="content">
<img src="assets/podman-desktop-ge-list-containers.png" alt="podman desktop ge list containers" width="95%">
</div>
</div>
</li>
<li>
<p>Click btn:[Images].
The list of local images displays the <code>ubi9/ubi</code> and the <code>rhel9/httpd-24</code> images.</p>
<div class="imageblock text-center unresolved">
<div class="content">
<img src="assets/podman-desktop-ge-image-list.png" alt="podman desktop ge image list" width="95%">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Use Podman Desktop to start another Apache HTTP container that maps its port to port 8090 in the workstation.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click the arrow (btn:[▶]) of the <code>rhel9/httpd-24</code> image to run a new container based on this image.</p>
</li>
<li>
<p>In the container creation form, enter the following values:</p>
<div class="ulist compact">
<ul class="compact">
<li>
<p>Container name: <code>desktop-test</code></p>
</li>
<li>
<p>Local port for 8080/tcp: <code>8090</code></p>
</li>
<li>
<p>Local port for 8443/tcp: <code>8443</code></p>
<div class="imageblock text-center unresolved">
<div class="content">
<img src="assets/podman-desktop-ge-create-container.png" alt="podman desktop ge create container" width="90%">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click btn:[Start Container].</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can safely ignore the SELinux security warning that displays at the top of the desktop.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Navigate to the containers menu and verify that the <code>desktop-test</code> container is running.</p>
</li>
<li>
<p>In the <code>desktop-test</code> container, click the vertical ellipsis icon (btn:[⋮]) on the right, select btn:[Open Browser], and then click btn:[Yes] in the confirmation dialog box.</p>
<div class="imageblock text-center unresolved">
<div class="content">
<img src="assets/podman-desktop-ge-open-browser.png" alt="podman desktop ge open browser" width="90%">
</div>
</div>
</li>
<li>
<p>Verify that the browser can access the HTTP server at <code>http://localhost:8090</code>.</p>
</li>
<li>
<p>Return to Podman Desktop.
In the <code>desktop-test</code> container, click the btn:[Delete Container] icon to delete the container, and then close Podman Desktop.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Can&#8217;t contain their value!</a></span>
  <span class="next"><a href="section2.html">Challenge Exercise: Can&#8217;t contain your enthusiasm!</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
