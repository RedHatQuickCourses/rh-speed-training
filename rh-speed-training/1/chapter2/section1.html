<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Exercise: Can&#8217;t contain the need to get hands-on! :: Red Hat Speed Training Labs</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="section2.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Red Hat Speed Training Labs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/changeme/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="rh-speed-training" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Red Hat Speed Training Labs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">What the heck is Git?</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section1.html">Exercise: Let&#8217;s Git our hands dirty!</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section2.html">Bonus Exercise: Git outta town!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Can&#8217;t contain their value!</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section1.html">Exercise: Can&#8217;t contain the need to get hands-on!</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section2.html">Bonus Exercise: Can&#8217;t contain your progress!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter3/index.html">Ansible Everywhere</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section1.html">Exercise: Automate this!</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section2.html">Bonus Exercise: Automate the people!</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Red Hat Speed Training Labs</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Red Hat Speed Training Labs</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Red Hat Speed Training Labs</a></li>
    <li><a href="index.html">Can&#8217;t contain their value!</a></li>
    <li><a href="section1.html">Exercise: Can&#8217;t contain the need to get hands-on!</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Exercise: Can&#8217;t contain the need to get hands-on!</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Find more fun exercises like this on containers in both our Red Hat System Administration II (RH134) and OpenShift Development I: Introduction to Containers with Podman (DO188) courses! <strong>Ask a Red Hat team member about how you can continue your learning with a Red Hat Learning Subscription or through general Red Hat Training courses!</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_goals"><a class="anchor" href="#_goals"></a>Goals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replicate the demo showed during the Lightning Talk! Pull a simple container image from a public repository and manage it with podman!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Navigate to the terminal window as the <code>student</code> user on the <code>workstation</code> machine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[student@workstation ~]$</pre>
</div>
</div>
</div>
</div>
<div class="sect1 Checklist">
<h2 id="_instructions"><a class="anchor" href="#_instructions"></a>Instructions</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check to verify there are no containers are currently running.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Utilize the podman ps command to check for active containers</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman ps</strong>
CONTAINER ID  IMAGE       COMMAND     CREATED     STATUS      PORTS       NAMES</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>If any containers appear in this list, you may remove them with the following command</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman rm -f &lt;container name&gt;</strong>
CONTAINER ID  IMAGE       COMMAND     CREATED     STATUS      PORTS       NAMES</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pull a simple Apache image from a public repository.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the podman pull command with the following variables</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman pull docker.io/library/httpd</strong>
Trying to pull docker.io/library/httpd:latest...
...output omitted...
Copying blob 358ca3c2eaff done
Copying blob e584cd196457 done
Copying config a42923e055 done
Writing manifest to image destination
a42923e05589d2d10c25e87736bc3b9537c38c2a6a87f37e9a71e288b01738a6</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify you have pulled the image by listing out all available images with the podman images command</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman images</strong>
REPOSITORY                       TAG          IMAGE ID         CREATED           SIZE
docker.io/library/httpd          latest                        1 minute ago</pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There might be other images available and your details in IMAGE ID, CREATED, and SIZE will not match the above. That is normal and expected. Continue with the exercise so long as you successfully pulled the docker.io/library/httpd image.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Let&#8217;s put this new image to the test! Using a simple podman run command, start the container and verify that it works.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the podman run command to start the container</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman run --name=httpd -d -it -p 8080:80 docker.io/library/httpd</strong>
649f023ae36d9fd51127c9ce8ae8ecf07dba1d93f2c9723b19441feff4cc6527</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify the container is running</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman ps -a</strong>
CONTAINER ID      IMAGE                     COMMAND     CREATED           STATUS              NAMES
649f023ae36d      docker.io/library/httpd   /bin/...    14 seconds ago    Up 13 seconds       httpd</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Open a web browser and navigate to <a href="http://localhost:8080" class="bare">http://localhost:8080</a> and verify that "It Works!" is displayed</p>
</li>
</ol>
</div>
</li>
<li>
<p>Let&#8217;s say that you like the basics of what this website looks like (imagine it&#8217;s a little more robust than a white screen with some text), but you want to change the language and save it. Let&#8217;s go down that path! First, we&#8217;ll need to make the change to the index.html file within the container to change the text that&#8217;s displaying on the site. We can do this a few ways, but the simplist is to copy a new file into the container.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a new index.html file in your home directory</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>vim index.html</strong></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Once in the editor, click "i" on your keyboard to enable editing with INSERT mode. Then, enter the following text (you can copy and paste this one):</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>&lt;html&gt;&lt;body&gt;&lt;h1&gt;Thanks for attending this Red Hat Speed Training Event, General Motors!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Click the ESCAPE key on your keyboard to exit INSERT mode.</p>
</li>
<li>
<p>Save and quit the editor. From within the editor type (including the colon):</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>:wq
Press Enter to save and quit</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Now we need to replace the index.html file in the container with the file we just created. To do that, we&#8217;ll make use of the podman cp command to copy a file into the container.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Copy the index.html file we just created into the container</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman cp index.html httpd:/usr/local/apache2/htdocs/</strong></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify that <a href="http://localhost:8080" class="bare">http://localhost:8080</a> now serves the text "Thanks for attending this Red Hat Speed Training Event, General Motors!" by refreshing the browser.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Now that we&#8217;ve customized the container to our liking, we want to save that work so we can access it later. While there are various ways to do this, today we&#8217;ll do it by creating a new image based on the running container with podman.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a new image based on the running container using podman commit</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman commit httpd speedtraining-httpd</strong>
Getting image source signatures
...output omitted...
Copying blob sha256:3618712e31962b9feac1d4e4f44841e4848d0c88c60159b9973af35cfa4f7d7f
Copying config sha256:80e3bde7902fbab711b9bbc670d3667649423b0b666717cb1710088d39bb4bd6
Writing manifest to image destination
80e3bde7902fbab711b9bbc670d3667649423b0b666717cb1710088d39bb4bd680e3bde7902fbab711b9bbc670d3667649423b0b666717cb1710088d39bb4bd6</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify you have saved the new image by listing out all available images with the podman images command</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman images</strong>
REPOSITORY                             TAG          IMAGE ID         CREATED           SIZE
localhost/speedtraining-httpd          latest       46c8ecb0bbf5     1 minute ago</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Let&#8217;s test our work! Let&#8217;s stop the container running with the old image, and start a new container with the fresh image.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Stop and remove the old container</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman stop httpd</strong>
httpd

[student@workstation]$ <strong>podman rm httpd</strong>
httpd</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify that no page is responding at <a href="https://localhost:8080" class="bare">https://localhost:8080</a> by refreshing the browser.</p>
</li>
<li>
<p>Use podman run to start a container using the newly created image</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman run --name=httpdnew -d -it -p 8080:80 localhost/speedtraining-httpd:latest</strong>
649f023ae36d9fd51127c9ce8ae8ecf07dba1d93f2c9723b19441feff4cc6527</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify the container is running</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>[student@workstation]$ <strong>podman ps -a</strong>
CONTAINER ID      IMAGE                                     COMMAND     CREATED           STATUS              NAMES
649f023ae36d      localhost/speedtraining-httpd/httpdnew   /bin/...    14 seconds ago    Up 13 seconds       httpdnew</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Open a web browser and navigate to <a href="http://localhost:8080" class="bare">http://localhost:8080</a> and verify that "Thanks for attending this Red Hat Speed Training Event, General Motors! Congratulations on making it to the second exercise!" is displayed.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Congratulations! You have completed the exercise!</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Can&#8217;t contain their value!</a></span>
  <span class="next"><a href="section2.html">Bonus Exercise: Can&#8217;t contain your progress!</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
